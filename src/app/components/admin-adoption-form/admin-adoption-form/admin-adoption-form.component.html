<main class="space-y-6">
      <section class="border-none shadow-lg rounded-lg bg-white" >
        <div class="p-6">
            <div class="relative flex-1">
              <lucide-icon 
              [img]="Search" 
              class="absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"/>
              <input
              type="search"
              placeholder="Buscar por nome do interesado ou do animal"
              [ngModel]="searchTerm()"
              (ngModelChange)="onSearchChange($event)"
              class="pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/>
            </div>
        </div>
      </section>
      <section class="border-none shadow-lg rounded-lg overflow-hidden bg-white">
        <div class="p-0">
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="bg-gray-50 border-b">
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Interessado</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Animal</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Experiência</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Outros Animais</th>
                  <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                </tr>
              </thead>
              <tbody class="bg-white divide-y divide-gray-200">
                @if (loading()) {
                  <tr>
                    <td colspan="5" class="px-6 py-4">
                      <div class="h-12 bg-gray-100 animate-pulse rounded">
                        <span>Carregando solicitações...</span>
                      </div>
                    </td>
                  </tr>
                }
                @if (!loading() && filteredAdoptions().length === 0) {
                  <tr>
                    <td colspan="5" class="text-center py-8 text-gray-500">
                      <div>
                        <lucide-icon [img]="HeartIcon" class="w-12 h-12 mx-auto mb-2 text-gray-300"/>
                        <p>Nenhuma solicitação encontrada</p>
                      </div>
                    </td>
                  </tr>
                }
                @for (AdoptionselectedAdoptions of filteredAdoptions(); track AdoptionselectedAdoptions.animalId + AdoptionselectedAdoptions.adopterName) {
                  <tr class="hover:bg-gray-50 transition-colors">
                    <th scope="row" class="px-6 py-4 whitespace-nowrap">
                      <div class="flex items-center gap-2">
                        <lucide-icon [img]="UserIcon" class="w-4 h-4 text-gray-400"/>
                        <span class="font-medium">{{ AdoptionselectedAdoptions.adopterName }}</span>
                      </div>
                    </th>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <div class="flex items-center gap-2">
                        <lucide-icon [img]="PawPrintIcon" class="w-4 h-4 text-blue-500"/>
                        <span>{{ AdoptionselectedAdoptions.animalName }}</span>
                      </div>
                    </td>
                    <td class="px-6 py-4">
                      <div class="text-sm text-gray-600 max-w-xs truncate">
                        {{ AdoptionselectedAdoptions.experience || 'Não informado' }}
                      </div>
                    </td>
                    <td class="px-6 py-4">
                      <div class="text-sm text-gray-600 max-w-xs truncate">
                        {{ AdoptionselectedAdoptions.otherAnimals || 'Não informado' }}
                      </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right">
                      <nav>
                        <ul class="flex justify-end gap-2 list-none">
                          <li>
                            <button 
                              type="button"
                              (click)="openView(AdoptionselectedAdoptions)"
                              class="p-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors">
                              <lucide-icon [img]="EyeIcon" class="w-4 h-4"/>
                            </button>
                          </li>
                          <li>
                            <button 
                              type="button"
                              (click)="openDeleteDialog(AdoptionselectedAdoptions)"
                              class="p-2 border border-gray-300 rounded-md text-red-500 hover:bg-red-50 transition-colors"
                            >
                              <lucide-icon [img]="Trash2Icon" class="w-4 h-4"/>
                            </button>
                          </li>
                        </ul>
                      </nav>
                    </td>
                  </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Modal de Visualização -->
      @if (isViewOpen()) {
        <aside 
          class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
          (click)="closeView()"
          role="dialog"
          ledby="view-dialog-title"
        >
          <article 
            class="bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto"
            (click)="$event.stopPropagation()"
          >
            <header class="p-6 border-b">
              <h2 id="view-dialog-title" class="text-xl font-semibold flex items-center gap-2">
                <lucide-icon [img]="HeartIcon" class="w-5 h-5 text-red-500"/>
                Detalhes da Solicitação
              </h2>
            </header>
            
            @if (selectedAdoptions()) {
              <div class="p-6 space-y-6">
                <dl class="grid grid-cols-2 gap-4">
                  <div>
                    <dt class="text-sm text-gray-500">Nome do Interessado</dt>
                    <dd class="font-medium">{{ selectedAdoptions()?.adopterName }}</dd>
                  </div>
                  <div>
                    <dt class="text-sm text-gray-500">Animal de Interesse</dt>
                    <dd class="font-medium flex items-center gap-1">
                      <lucide-icon [img]="PawPrintIcon" class="w-4 h-4 text-blue-500"/>
                      {{ selectedAdoptions()?.animalName }}
                    </dd>
                  </div>
                </dl>

                @if (selectedAdoptions()?.experience) {
                  <section ledby="experience-heading">
                    <h3 id="experience-heading" class="text-sm text-gray-500 mb-1">Experiência com Animais</h3>
                    <p class="text-gray-700 bg-gray-50 p-3 rounded-lg">{{ selectedAdoptions()?.experience }}</p>
                  </section>
                }

                @if (selectedAdoptions()?.otherAnimals) {
                  <section ledby="other-animals-heading">
                    <h3 id="other-animals-heading" class="text-sm text-gray-500 mb-1">Outros Animais em Casa</h3>
                    <p class="text-gray-700 bg-gray-50 p-3 rounded-lg">{{ selectedAdoptions()?.otherAnimals }}</p>
                  </section>
                }

                @if (selectedAdoptions()?.message) {
                  <section ledby="message-heading">
                    <h3 id="message-heading" class="text-sm text-gray-500 mb-1">Mensagem</h3>
                    <p class="text-gray-700 bg-gray-50 p-3 rounded-lg">{{ selectedAdoptions()?.message }}</p>
                  </section>
                }
              </div>
            }

            <footer class="p-6 border-t flex justify-end">
              <button 
                type="button"
                (click)="closeView()"
                class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
              >
                Fechar
              </button>
            </footer>
          </article>
        </aside>
      }

      <!-- Dialog de Confirmação de Exclusão -->
      @if (isDeleteOpen()) {
        <aside 
          class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
          (click)="closeDeleteDialog()"
          role="alertdialog"
          -modal="true"
          ledby="delete-dialog-title"
          -describedby="delete-dialog-description"
        >
          <article 
            class="bg-white rounded-lg max-w-md w-full"
            (click)="$event.stopPropagation()"
          >
            <header class="p-6">
              <h2 id="delete-dialog-title" class="text-xl font-semibold mb-2">Confirmar Exclusão</h2>
              <p id="delete-dialog-description" class="text-gray-600">
                Tem certeza que deseja excluir a solicitação de 
                <strong>{{ selectedAdoptions()?.adopterName }}</strong> 
                para o animal 
                <strong>{{ selectedAdoptions()?.animalName }}</strong>? 
                Esta ação não pode ser desfeita.
              </p>
            </header>
            <footer class="p-6 border-t flex justify-end gap-2">
              <button 
                type="button"
                (click)="closeDeleteDialog()"
                class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"
              >
                Cancelar
              </button>
              <button 
                type="button"
                (click)="handleDelete()"
                class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"
              >
                Excluir
              </button>
            </footer>
          </article>
        </aside>
      }
    </main>