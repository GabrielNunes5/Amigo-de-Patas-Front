import{$ as U,$a as p,$c as _e,Ac as oe,Bc as j,Cb as M,Cc as F,Da as w,Ec as ae,Fc as k,Ga as v,Ic as re,Jc as z,Lc as y,Mc as L,Na as s,Nc as le,Oc as q,Pc as de,Q as E,Qa as B,Qc as me,Rc as se,Sa as h,Sc as ce,Ta as X,Tc as pe,Uc as ue,Va as D,Vc as ge,W as g,Wa as T,Wb as J,X as x,Xa as t,Xc as xe,Ya as i,Yb as P,Za as c,Zb as K,Zc as G,_a as C,_c as fe,ab as m,bb as n,cb as b,db as _,ea as N,fa as S,ha as f,ic as Q,jb as W,jc as Y,lc as Z,oc as O,qb as I,ra as $,ua as l,vc as ee,wc as te,xc as ie,yc as ne}from"./chunk-YX7V6A3M.js";var Ce=()=>[1,2,3,4,5],Se=(d,a)=>a.animalId;function Ee(d,a){d&1&&(t(0,"tr")(1,"td",25)(2,"div",26)(3,"span"),n(4,"Carregando..."),i()()()())}function we(d,a){d&1&&D(0,Ee,5,0,"tr",null,X),d&2&&T(W(0,Ce))}function Fe(d,a){if(d&1&&(t(0,"tr")(1,"td",27)(2,"div"),c(3,"lucide-angular",28),t(4,"p"),n(5,"Nenhum animal encontrado"),i()()()()),d&2){let e=m();l(3),s("img",e.Heart)}}function ke(d,a){if(d&1){let e=C();t(0,"tr",29)(1,"td",30),c(2,"img",31),i(),t(3,"td",30)(4,"span",32),n(5),i()(),t(6,"td",30)(7,"span",33)(8,"span"),n(9),i(),t(10,"span",34),n(11),i()()(),t(12,"td",35),n(13),i(),t(14,"td",35),n(15),i(),t(16,"td",35),n(17),i(),t(18,"td",30)(19,"span"),n(20),i()(),t(21,"td",36)(22,"div",37)(23,"button",38),p("click",function(){let r=g(e).$implicit,u=m(2);return x(u.openEditForm(r))}),c(24,"lucide-angular",39),i(),t(25,"button",40),p("click",function(){let r=g(e).$implicit,u=m(2);return x(u.openDeleteDialog(r))}),c(26,"lucide-angular",39),i()()()()}if(d&2){let e=a.$implicit,o=m(2);l(2),s("src",e.animalImageUrl,$)("alt","Foto de "+e.animalName),l(3),_(" ",e.animalName," "),l(4),_(" ",e.animalSpecies==="Cachorro"?"\u{1F415}":"\u{1F431}"," "),l(2),_(" ",e.animalSpecies," "),l(2),_(" ",e.animalAge," "),l(2),_(" ",e.animalSex," "),l(2),_(" ",e.animalSize," "),l(2),B(o.getStatusColor(e.animalAdopted)+" px-2.5 py-0.5 rounded-full text-xs font-medium"),l(),_(" ",e.animalAdopted?"Adotado":"Dispon\xEDvel"," "),l(4),s("img",o.Pencil),l(2),s("img",o.Trash)}}function De(d,a){if(d&1&&D(0,ke,27,13,"tr",29,Se),d&2){let e=m();T(e.filteredAnimais())}}function Te(d,a){if(d&1&&(t(0,"span",54),n(1),i()),d&2){let e=m(2);l(),b(e.getFieldError("animalName"))}}function Ve(d,a){if(d&1){let e=C();t(0,"div",41),p("click",function(){g(e);let r=m();return x(!r.saving()&&r.closeForm())}),t(1,"div",42),p("click",function(r){return g(e),x(r.stopPropagation())}),t(2,"div",2)(3,"div",43)(4,"div",44),c(5,"lucide-angular",45),t(6,"h2",46),n(7),i()(),t(8,"button",47),p("click",function(){g(e);let r=m();return x(!r.saving()&&r.closeForm())}),c(9,"lucide-angular",48),i()(),t(10,"form",49),p("ngSubmit",function(){g(e);let r=m();return x(r.handleSubmit())}),t(11,"div",50)(12,"div")(13,"label",51),n(14," Nome "),t(15,"span",52),n(16,"*"),i()(),c(17,"input",53),v(18,Te,2,1,"span",54),i(),t(19,"div")(20,"label",55),n(21," Tipo "),t(22,"span",52),n(23,"*"),i()(),t(24,"select",56)(25,"option",11),n(26,"\u{1F415} Cachorro"),i(),t(27,"option",12),n(28,"\u{1F431} Gato"),i()()(),t(29,"div")(30,"label",57),n(31," Idade "),t(32,"span",52),n(33,"*"),i()(),c(34,"input",58),i(),t(35,"div")(36,"label",59),n(37," Sexo "),t(38,"span",52),n(39,"*"),i()(),t(40,"select",60)(41,"option",61),n(42,"Macho"),i(),t(43,"option",62),n(44,"F\xEAmea"),i()()(),t(45,"div")(46,"label",63),n(47," Peso (kg) "),t(48,"span",52),n(49,"*"),i()(),c(50,"input",64),i(),t(51,"div")(52,"label",65),n(53," Porte "),t(54,"span",52),n(55,"*"),i()(),t(56,"select",66)(57,"option",67),n(58,"Pequeno"),i(),t(59,"option",68),n(60,"M\xE9dio"),i(),t(61,"option",69),n(62,"Grande"),i()()(),t(63,"div")(64,"label",70),n(65,"Cor"),i(),c(66,"input",71),i(),t(67,"div")(68,"label",72),n(69,"Status"),i(),t(70,"select",73)(71,"option",74),n(72,"Dispon\xEDvel"),i(),t(73,"option",74),n(74,"Adotado"),i()()()(),t(75,"div")(76,"label",75),n(77," URL da Foto "),t(78,"span",52),n(79,"*"),i()(),c(80,"input",76),i(),t(81,"div")(82,"label",77),n(83,"Vacinas"),i(),c(84,"input",78),i(),t(85,"div")(86,"label",79),n(87,"Condi\xE7\xF5es Especiais"),i(),c(88,"textarea",80),i(),t(89,"div",81),c(90,"input",82),t(91,"label",83),n(92,"Castrado"),i()(),t(93,"div",84)(94,"button",85),p("click",function(){g(e);let r=m();return x(!r.saving()&&r.closeForm())}),n(95," Cancelar "),i(),t(96,"button",86),n(97),i()()()()()()}if(d&2){let e=m();l(5),s("img",e.selectedAnimal()?e.Pencil:e.Plus),l(2),_(" ",e.selectedAnimal()?"Editar Animal":"Novo Animal"," "),l(2),s("img",e.X),l(),s("formGroup",e.animalForm),l(8),h(e.isFieldInvalid("animalName")?18:-1),l(53),s("ngValue",!1),l(2),s("ngValue",!0),l(23),s("disabled",e.animalForm.invalid||e.saving()),l(),_(" ",e.saving()?"Salvando...":e.selectedAnimal()?"Atualizar":"Criar"," ")}}function Ne(d,a){if(d&1){let e=C();t(0,"div",41),p("click",function(){g(e);let r=m();return x(r.closeDeleteDialog())}),t(1,"div",87),p("click",function(r){return g(e),x(r.stopPropagation())}),t(2,"div",2)(3,"div",88)(4,"div",89),c(5,"lucide-angular",90),i(),t(6,"div",91)(7,"h2",92),n(8,"Confirmar Exclus\xE3o"),i(),t(9,"p",93),n(10," Tem certeza que deseja excluir o animal "),t(11,"strong"),n(12),i(),n(13,"? Esta a\xE7\xE3o n\xE3o pode ser desfeita. "),i()()()(),t(14,"div",94)(15,"button",85),p("click",function(){g(e);let r=m();return x(r.closeDeleteDialog())}),n(16," Cancelar "),i(),t(17,"button",95),p("click",function(){g(e);let r=m();return x(r.handleDelete())}),n(18," Excluir "),i()()()()}if(d&2){let e,o=m();l(5),s("img",o.TriangleAlert),l(7),_('"',(e=o.selectedAnimal())==null?null:e.animalName,'"')}}var R=class d{fb=E(xe);Search=O;Plus=Z;X=oe;Heart=P;Trash=te;Pencil=Y;TriangleAlert=ie;animais=S([]);loading=S(!1);saving=S(!1);create=N();update=N();delete=N();searchTerm=f("");filterStatus=f("todos");filterTipo=f("todos");isFormOpen=f(!1);isDeleteOpen=f(!1);selectedAnimal=f(null);animalForm=this.createAnimalForm();filteredAnimais=I(()=>{let a=this.searchTerm().trim().toLowerCase(),e=this.filterStatus(),o=this.filterTipo();return this.animais().filter(r=>{let u=!a||r.animalName.toLowerCase().includes(a),V=o==="todos"||r.animalSpecies?.toLowerCase()===o.toLowerCase(),A=e==="todos"||e==="Adotado"&&r.animalAdopted||e==="Dispon\xEDvel"&&!r.animalAdopted;return u&&V&&A})});createAnimalForm(){return this.fb.group({animalName:["",[y.required,y.minLength(3)]],animalSpecies:["",y.required],animalAge:["",y.required],animalSex:["",y.required],animalSize:["",y.required],animalWeight:[1,[y.required,y.min(1)]],animalColor:[""],animalSpecialConditions:[""],animalImageUrl:["",y.required],animalAdopted:[!1],animalNeutered:[!1],animalVaccines:[""]})}getStatusColor(a){return a?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}onSearchChange(a){this.searchTerm.set(a)}onFilterStatusChange(a){this.filterStatus.set(a)}onFilterTipoChange(a){this.filterTipo.set(a)}openNewForm(){this.selectedAnimal.set(null),this.animalForm.reset({animalAdopted:!1,animalNeutered:!1}),this.isFormOpen.set(!0)}openEditForm(a){this.selectedAnimal.set(a),this.animalForm.patchValue(a),this.isFormOpen.set(!0)}openDeleteDialog(a){this.selectedAnimal.set(a),this.isDeleteOpen.set(!0)}closeForm(){this.isFormOpen.set(!1),this.selectedAnimal.set(null),this.animalForm.reset({animalAdopted:!1,animalNeutered:!1})}closeDeleteDialog(){this.isDeleteOpen.set(!1),this.selectedAnimal.set(null)}handleSubmit(){if(this.animalForm.invalid){this.animalForm.markAllAsTouched();return}let a=this.animalForm.value,e=this.selectedAnimal();e?this.update.emit({id:e.animalId,data:a}):this.create.emit(a),this.closeForm()}handleDelete(){let a=this.selectedAnimal();a&&(this.delete.emit(a.animalId),this.closeDeleteDialog())}trackByAnimalId(a,e){return e.animalId}isFieldInvalid(a){let e=this.animalForm.get(a);return!!(e?.invalid&&(e.dirty||e.touched))}getFieldError(a){let e=this.animalForm.get(a);return e?.errors?e.errors.required?"Campo obrigat\xF3rio":e.errors.minlength?`M\xEDnimo ${e.errors.minlength.requiredLength} caracteres`:e.errors.min?"Valor inv\xE1lido":"Campo inv\xE1lido":""}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=w({type:d,selectors:[["app-admin-animais"]],inputs:{animais:[1,"animais"],loading:[1,"loading"],saving:[1,"saving"]},outputs:{create:"create",update:"update",delete:"delete"},decls:54,vars:8,consts:[[1,"space-y-6","p-4"],[1,"border-none","shadow-lg","rounded-xl","bg-white"],[1,"p-6"],[1,"flex","flex-col","md:flex-row","gap-4","justify-between","items-start","md:items-center"],[1,"flex","flex-col","sm:flex-row","gap-4","flex-1"],[1,"relative","flex-1"],[1,"absolute","left-2","top-1/2","transform","-translate-y-1/2","text-gray-400","w-4","h-4",3,"img"],["type","search","placeholder","Buscar por nome...",1,"pl-10","w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"w-full","sm:w-40"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value","todos"],["value","Cachorro"],["value","Gato"],["value","Dispon\xEDvel"],["value","Adotado"],["type","button",1,"bg-gradient-to-r","from-blue-600","to-green-600","text-white","px-4","py-2","rounded-md","flex","items-center","hover:opacity-90","transition-opacity","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2",3,"click"],[1,"w-4","h-4","mr-2",3,"img"],[1,"border-none","shadow-lg","rounded-xl","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-300"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-300"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/60"],["colspan","8",1,"px-6","py-4"],[1,"h-12","bg-gray-100","animate-pulse","rounded"],["colspan","8",1,"px-6","py-8","text-center","text-gray-500"],[1,"w-12","h-12","mx-auto","mb-2","text-gray-300",3,"img"],[1,"hover:bg-gray-300","transition-colors"],[1,"px-6","py-4","whitespace-nowrap"],["loading","lazy",1,"w-14","h-14","rounded-lg","object-cover",3,"src","alt"],[1,"font-medium","text-gray-900"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","border","border-gray-300","bg-gray-50"],[1,"ml-1"],[1,"px-6","py-4","whitespace-nowrap","text-gray-700"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"flex","justify-end","gap-2"],["type","button","title","Editar",1,"p-2","border","border-gray-300","rounded-md","hover:bg-gray-50","focus:ring-2","focus:outline-none","focus:ring-blue-500","transition-colors",3,"click"],[1,"w-4","h-4",3,"img"],["type","button","title","Excluir",1,"p-2","border","border-gray-300","rounded-md","text-red-600","hover:text-red-700","hover:bg-red-50","focus:outline-none","focus:ring-2","focus:ring-red-500","transition-colors",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/60",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-2xl","max-h-[90vh]","overflow-y-auto",3,"click"],[1,"flex","items-center","justify-between","mb-6"],[1,"flex","items-center","gap-2"],[1,"w-6","h-6","text-gray-600",3,"img"],[1,"text-lg","font-medium","text-gray-900"],["type","button",1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"w-6","h-6",3,"img"],["novalidate","",1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","md:grid-cols-2","gap-4"],["for","nome",1,"text-sm","font-medium","mb-1","block","text-gray-700"],[1,"text-red-500"],["id","nome","type","text","formControlName","animalName","placeholder","Nome do animal",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"text-red-500","text-sm"],["for","tipo",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","tipo","formControlName","animalSpecies",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","idade",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","idade","type","text","formControlName","animalAge","placeholder","Ex: 2 anos",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","sexo",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","sexo","formControlName","animalSex",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","Macho"],["value","F\xEAmea"],["for","peso",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","peso","type","number","formControlName","animalWeight","placeholder","Ex: 12.5","step","0.1",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","porte",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","porte","formControlName","animalSize",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["value","Pequeno"],["value","M\xE9dio"],["value","Grande"],["for","cor",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","cor","type","text","formControlName","animalColor","placeholder","Ex: Marrom",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","status",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","status","formControlName","animalAdopted",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[3,"ngValue"],["for","foto-url",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","foto-url","type","url","formControlName","animalImageUrl","placeholder","https://exemplo.com/foto.jpg",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","vacinas",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","vacinas","type","text","formControlName","animalVaccines","placeholder","Ex: Antirr\xE1bica, V10",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["for","necessidades",1,"text-sm","font-medium","mb-1","block","text-gray-700"],["id","necessidades","formControlName","animalSpecialConditions","placeholder","Algum cuidado especial?","rows","2",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"flex","items-center","space-x-2"],["type","checkbox","id","castrado","formControlName","animalNeutered",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500"],["for","castrado",1,"text-sm","font-medium","text-gray-700"],[1,"flex","justify-end","gap-3","pt-4","border-t","border-gray-200"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-50","transition-colors",3,"click"],["type","submit",1,"bg-gradient-to-r","from-blue-600","to-green-600","text-white","px-4","py-2","rounded-md","hover:opacity-90","disabled:opacity-50","transition-opacity",3,"disabled"],[1,"bg-white","rounded-lg","shadow-xl","w-full","max-w-md",3,"click"],[1,"flex","items-start","gap-4"],[1,"w-12","h-12","rounded-full","bg-red-00","flex","items-center","justify-center"],[1,"w-8","h-8","text-red-600",3,"img"],[1,"flex-1"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"bg-gray-50","px-6","py-3","flex","justify-end","gap-3"],["type","button",1,"px-4","py-2","bg-red-600","text-white","rounded-md","hover:bg-red-700","transition-colors",3,"click"]],template:function(e,o){e&1&&(t(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),c(6,"lucide-angular",6),t(7,"input",7),p("ngModelChange",function(u){return o.onSearchChange(u)}),i()(),t(8,"div",8)(9,"select",9),p("ngModelChange",function(u){return o.onFilterTipoChange(u)}),t(10,"option",10),n(11,"Todos os tipos"),i(),t(12,"option",11),n(13,"\u{1F415} Cachorros"),i(),t(14,"option",12),n(15,"\u{1F431} Gatos"),i()()(),t(16,"div",8)(17,"select",9),p("ngModelChange",function(u){return o.onFilterStatusChange(u)}),t(18,"option",10),n(19,"Todos"),i(),t(20,"option",13),n(21,"Dispon\xEDveis"),i(),t(22,"option",14),n(23,"Adotados"),i()()()(),t(24,"button",15),p("click",function(){return o.openNewForm()}),c(25,"lucide-angular",16),n(26," Novo Animal "),i()()()(),t(27,"section",17)(28,"div",18)(29,"table",19)(30,"thead",20)(31,"tr")(32,"th",21),n(33," Foto "),i(),t(34,"th",21),n(35," Nome "),i(),t(36,"th",21),n(37," Tipo "),i(),t(38,"th",21),n(39," Idade "),i(),t(40,"th",21),n(41," Sexo "),i(),t(42,"th",21),n(43," Porte "),i(),t(44,"th",21),n(45," Status "),i(),t(46,"th",22),n(47," A\xE7\xF5es "),i()()(),t(48,"tbody",23),v(49,we,2,1)(50,Fe,6,1,"tr")(51,De,2,0),i()()()()(),v(52,Ve,98,9,"div",24)(53,Ne,19,2,"div",24)),e&2&&(l(6),s("img",o.Search),l(),s("ngModel",o.searchTerm()),l(2),s("ngModel",o.filterTipo()),l(8),s("ngModel",o.filterStatus()),l(8),s("img",o.Plus),l(24),h(o.loading()?49:o.filteredAnimais().length===0?50:51),l(3),h(o.isFormOpen()?52:-1),l(),h(o.isDeleteOpen()?53:-1))},dependencies:[M,fe,de,ue,ge,z,me,re,pe,L,le,se,ce,F,j,G,q],encapsulation:2})};var Ie=(d,a)=>a.animalId+a.adopterName;function Me(d,a){d&1&&(t(0,"tr")(1,"td",17)(2,"div",18)(3,"span"),n(4,"Carregando solicita\xE7\xF5es..."),i()()()())}function Pe(d,a){if(d&1&&(t(0,"tr")(1,"td",19)(2,"div"),c(3,"lucide-icon",20),t(4,"p"),n(5,"Nenhuma solicita\xE7\xE3o encontrada"),i()()()()),d&2){let e=m();l(3),s("img",e.HeartIcon)}}function Oe(d,a){if(d&1){let e=C();t(0,"tr",14)(1,"th",21)(2,"div",22),c(3,"lucide-icon",23),t(4,"span",24),n(5),i()()(),t(6,"td",25)(7,"div",22),c(8,"lucide-icon",26),t(9,"span"),n(10),i()()(),t(11,"td",27)(12,"div",28),n(13),i()(),t(14,"td",27)(15,"div",28),n(16),i()(),t(17,"td",29)(18,"nav")(19,"ul",30)(20,"li")(21,"button",31),p("click",function(){let r=g(e).$implicit,u=m();return x(u.openView(r))}),c(22,"lucide-icon",32),i()(),t(23,"li")(24,"button",33),p("click",function(){let r=g(e).$implicit,u=m();return x(u.openDeleteDialog(r))}),c(25,"lucide-icon",32),i()()()()()()}if(d&2){let e=a.$implicit,o=m();l(3),s("img",o.UserIcon),l(2),b(e.adopterName),l(3),s("img",o.PawPrintIcon),l(2),b(e.animalName),l(3),_(" ",e.experience||"N\xE3o informado"," "),l(3),_(" ",e.otherAnimals||"N\xE3o informado"," "),l(6),s("img",o.EyeIcon),l(3),s("img",o.Trash2Icon)}}function je(d,a){if(d&1&&(t(0,"section",45)(1,"h3",48),n(2,"Experi\xEAncia com Animais"),i(),t(3,"p",49),n(4),i()()),d&2){let e,o=m(3);l(4),b((e=o.selectedAdoptions())==null?null:e.experience)}}function ze(d,a){if(d&1&&(t(0,"section",46)(1,"h3",50),n(2,"Outros Animais em Casa"),i(),t(3,"p",49),n(4),i()()),d&2){let e,o=m(3);l(4),b((e=o.selectedAdoptions())==null?null:e.otherAnimals)}}function Le(d,a){if(d&1&&(t(0,"section",47)(1,"h3",51),n(2,"Mensagem"),i(),t(3,"p",49),n(4),i()()),d&2){let e,o=m(3);l(4),b((e=o.selectedAdoptions())==null?null:e.message)}}function qe(d,a){if(d&1&&(t(0,"div",39)(1,"dl",42)(2,"div")(3,"dt",43),n(4,"Nome do Interessado"),i(),t(5,"dd",24),n(6),i()(),t(7,"div")(8,"dt",43),n(9,"Animal de Interesse"),i(),t(10,"dd",44),c(11,"lucide-icon",26),n(12),i()()(),v(13,je,5,1,"section",45)(14,ze,5,1,"section",46)(15,Le,5,1,"section",47),i()),d&2){let e,o,r,u,V,A=m(2);l(6),b((e=A.selectedAdoptions())==null?null:e.adopterName),l(5),s("img",A.PawPrintIcon),l(),_(" ",(o=A.selectedAdoptions())==null?null:o.animalName," "),l(),h((r=A.selectedAdoptions())!=null&&r.experience?13:-1),l(),h((u=A.selectedAdoptions())!=null&&u.otherAnimals?14:-1),l(),h((V=A.selectedAdoptions())!=null&&V.message?15:-1)}}function Ge(d,a){if(d&1){let e=C();t(0,"aside",34),p("click",function(){g(e);let r=m();return x(r.closeView())}),t(1,"article",35),p("click",function(r){return g(e),x(r.stopPropagation())}),t(2,"header",36)(3,"h2",37),c(4,"lucide-icon",38),n(5," Detalhes da Solicita\xE7\xE3o "),i()(),v(6,qe,16,6,"div",39),t(7,"footer",40)(8,"button",41),p("click",function(){g(e);let r=m();return x(r.closeView())}),n(9," Fechar "),i()()()()}if(d&2){let e=m();l(4),s("img",e.HeartIcon),l(2),h(e.selectedAdoptions()?6:-1)}}function Re(d,a){if(d&1){let e=C();t(0,"aside",52),p("click",function(){g(e);let r=m();return x(r.closeDeleteDialog())}),t(1,"article",53),p("click",function(r){return g(e),x(r.stopPropagation())}),t(2,"header",2)(3,"h2",54),n(4,"Confirmar Exclus\xE3o"),i(),t(5,"p",55),n(6," Tem certeza que deseja excluir a solicita\xE7\xE3o de "),t(7,"strong"),n(8),i(),n(9," para o animal "),t(10,"strong"),n(11),i(),n(12,"? Esta a\xE7\xE3o n\xE3o pode ser desfeita. "),i()(),t(13,"footer",56)(14,"button",41),p("click",function(){g(e);let r=m();return x(r.closeDeleteDialog())}),n(15," Cancelar "),i(),t(16,"button",57),p("click",function(){g(e);let r=m();return x(r.handleDelete())}),n(17," Excluir "),i()()()()}if(d&2){let e,o,r=m();l(8),b((e=r.selectedAdoptions())==null?null:e.adopterName),l(3),b((o=r.selectedAdoptions())==null?null:o.animalName)}}var H=class d{adoptionForm=S([]);loading=S(!1);Search=O;HeartIcon=P;UserIcon=ne;PawPrintIcon=Q;EyeIcon=J;Trash2Icon=ee;HomeIcon=K;searchTerm=f("");isViewOpen=f(!1);isDeleteOpen=f(!1);selectedAdoptions=f(null);filteredAdoptions=I(()=>{let a=this.searchTerm().trim().toLowerCase();return this.adoptionForm().filter(e=>{let o=!a||e.animalName.toLowerCase().includes(a),r=!a||e.adopterName.toLowerCase().includes(a);return o||r})});openView(a){this.selectedAdoptions.set(a),this.isViewOpen.set(!0)}onSearchChange(a){this.searchTerm.set(a)}closeView(){this.isViewOpen.set(!1)}openDeleteDialog(a){this.selectedAdoptions.set(a),this.isDeleteOpen.set(!0)}closeDeleteDialog(){this.isDeleteOpen.set(!1)}handleDelete(){this.closeDeleteDialog()}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=w({type:d,selectors:[["app-admin-adoption-form"]],inputs:{adoptionForm:[1,"adoptionForm"],loading:[1,"loading"]},decls:29,vars:6,consts:[[1,"space-y-6"],[1,"border-none","shadow-lg","rounded-lg","bg-white"],[1,"p-6"],[1,"relative","flex-1"],[1,"absolute","left-2","top-1/2","transform","-translate-y-1/2","text-gray-400","w-4","h-4",3,"img"],["type","search","placeholder","Buscar por nome do interesado ou do animal",1,"pl-10","w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"border-none","shadow-lg","rounded-lg","overflow-hidden","bg-white"],[1,"p-0"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50","border-b"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50","transition-colors"],["role","dialog","ledby","view-dialog-title",1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],["role","alertdialog","-modal","true","ledby","delete-dialog-title","-describedby","delete-dialog-description",1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],["colspan","5",1,"px-6","py-4"],[1,"h-12","bg-gray-100","animate-pulse","rounded"],["colspan","5",1,"text-center","py-8","text-gray-500"],[1,"w-12","h-12","mx-auto","mb-2","text-gray-300",3,"img"],["scope","row",1,"px-6","py-4","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"w-4","h-4","text-gray-400",3,"img"],[1,"font-medium"],[1,"px-6","py-4","whitespace-nowrap"],[1,"w-4","h-4","text-blue-500",3,"img"],[1,"px-6","py-4"],[1,"text-sm","text-gray-600","max-w-xs","truncate"],[1,"px-6","py-4","whitespace-nowrap","text-right"],[1,"flex","justify-end","gap-2","list-none"],["type","button",1,"p-2","border","border-gray-300","rounded-md","hover:bg-gray-50","transition-colors",3,"click"],[1,"w-4","h-4",3,"img"],["type","button",1,"p-2","border","border-gray-300","rounded-md","text-red-500","hover:bg-red-50","transition-colors",3,"click"],["role","dialog","ledby","view-dialog-title",1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white","rounded-lg","max-w-lg","w-full","max-h-[90vh]","overflow-y-auto",3,"click"],[1,"p-6","border-b"],["id","view-dialog-title",1,"text-xl","font-semibold","flex","items-center","gap-2"],[1,"w-5","h-5","text-red-500",3,"img"],[1,"p-6","space-y-6"],[1,"p-6","border-t","flex","justify-end"],["type","button",1,"px-4","py-2","border","border-gray-300","rounded-md","hover:bg-gray-50","transition-colors",3,"click"],[1,"grid","grid-cols-2","gap-4"],[1,"text-sm","text-gray-500"],[1,"font-medium","flex","items-center","gap-1"],["ledby","experience-heading"],["ledby","other-animals-heading"],["ledby","message-heading"],["id","experience-heading",1,"text-sm","text-gray-500","mb-1"],[1,"text-gray-700","bg-gray-50","p-3","rounded-lg"],["id","other-animals-heading",1,"text-sm","text-gray-500","mb-1"],["id","message-heading",1,"text-sm","text-gray-500","mb-1"],["role","alertdialog","-modal","true","ledby","delete-dialog-title","-describedby","delete-dialog-description",1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white","rounded-lg","max-w-md","w-full",3,"click"],["id","delete-dialog-title",1,"text-xl","font-semibold","mb-2"],["id","delete-dialog-description",1,"text-gray-600"],[1,"p-6","border-t","flex","justify-end","gap-2"],["type","button",1,"px-4","py-2","bg-red-600","text-white","rounded-md","hover:bg-red-700","transition-colors",3,"click"]],template:function(e,o){e&1&&(t(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3),c(4,"lucide-icon",4),t(5,"input",5),p("ngModelChange",function(u){return o.onSearchChange(u)}),i()()()(),t(6,"section",6)(7,"div",7)(8,"div",8)(9,"table",9)(10,"thead")(11,"tr",10)(12,"th",11),n(13,"Interessado"),i(),t(14,"th",11),n(15,"Animal"),i(),t(16,"th",11),n(17,"Experi\xEAncia"),i(),t(18,"th",11),n(19,"Outros Animais"),i(),t(20,"th",12),n(21,"A\xE7\xF5es"),i()()(),t(22,"tbody",13),v(23,Me,5,0,"tr")(24,Pe,6,1,"tr"),D(25,Oe,26,8,"tr",14,Ie),i()()()()(),v(27,Ge,10,2,"aside",15)(28,Re,18,2,"aside",16),i()),e&2&&(l(4),s("img",o.Search),l(),s("ngModel",o.searchTerm()),l(18),h(o.loading()?23:-1),l(),h(!o.loading()&&o.filteredAdoptions().length===0?24:-1),l(),T(o.filteredAdoptions()),l(2),h(o.isViewOpen()?27:-1),l(),h(o.isDeleteOpen()?28:-1))},dependencies:[G,z,L,q,M,F,j],encapsulation:2})};var ye=class d{animalService=E(ae);adoptionFormService=E(_e);destroyRef=E(U);loading=f(!1);saving=f(!1);animais=f([]);adoptionForm=f([]);ngOnInit(){this.loadAnimais(),this.loadAdoptionForm()}loadAnimais(){this.loading.set(!0),this.animalService.getAnimals().pipe(k(this.destroyRef)).subscribe({next:a=>this.animais.set(a),error:a=>{console.error("Erro ao carregar animais",a),this.animais.set([])},complete:()=>this.loading.set(!1)})}createAnimal(a){this.saving.set(!0),this.animalService.createAnimal(a).pipe(k(this.destroyRef)).subscribe({next:e=>{this.animais.update(o=>[...o,e])},error:e=>{console.error("Erro ao criar animal",e)},complete:()=>this.saving.set(!1)})}deleteAnimal(a){this.saving.set(!0),this.animalService.deleteAnimal(a).pipe(k(this.destroyRef)).subscribe({next:()=>{this.animais.update(e=>e.filter(o=>o.animalId!==a))},error:e=>{console.error("Erro ao deletar animal",e)},complete:()=>this.saving.set(!1)})}updateAnimal(a){this.saving.set(!0),this.animalService.updateAnimal(a.id,a.data).pipe(k(this.destroyRef)).subscribe({next:e=>{this.animais.update(o=>o.map(r=>r.animalId===e.animalId?e:r))},error:e=>{console.error("Erro ao atualizar animal",e)},complete:()=>this.saving.set(!1)})}loadAdoptionForm(){this.loading.set(!0),this.adoptionFormService.getAdoptionForms().pipe(k(this.destroyRef)).subscribe({next:a=>this.adoptionForm.set(a),error:a=>{console.error("Erro ao carregar formul\xE1rios de ado\xE7\xE3o",a),this.adoptionForm.set([])},complete:()=>this.loading.set(!1)})}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=w({type:d,selectors:[["app-admin"]],decls:7,vars:5,consts:[[1,"p-4"],[1,"text-2xl","font-bold","mb-4"],[3,"create","delete","update","animais","loading","saving"],[1,"text-2xl","font-bold","my-4"],[3,"adoptionForm","loading"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"h1",1),n(2,"Administra\xE7\xE3o de Animais"),i(),t(3,"app-admin-animais",2),p("create",function(u){return o.createAnimal(u)})("delete",function(u){return o.deleteAnimal(u)})("update",function(u){return o.updateAnimal(u)}),i(),t(4,"h1",3),n(5,"Formul\xE1rios de Ado\xE7\xE3o"),i(),c(6,"app-admin-adoption-form",4),i()),e&2&&(l(3),s("animais",o.animais())("loading",o.loading())("saving",o.saving()),l(3),s("adoptionForm",o.adoptionForm())("loading",o.loading()))},dependencies:[F,R,H],encapsulation:2})};export{ye as AdminComponent};
